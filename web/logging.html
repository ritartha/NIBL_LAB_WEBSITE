<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NIBL</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="logging-styles.css">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar" role="navigation">
    <div class="navbar-brand">
      <a class="navbar-item" href="index.html">
        <i class="fas fa-atom"></i>&nbsp;&nbsp;NIBL
      </a>
      <a role="button" class="navbar-burger" id="navbarBurger">
        <span></span>
        <span></span>
        <span></span>
      </a>
    </div>

    <div id="navbarMenu" class="navbar-menu">
      <div class="navbar-start">
        <a class="navbar-item" href="index.html">
          <i class="fas fa-home"></i>&nbsp;Home
        </a>
        <a class="navbar-item" href="beam-time.html">
          <i class="fas fa-calendar-alt"></i>&nbsp;Beam-Time Request
        </a>
        <a class="navbar-item active" href="logging.html">
          <i class="fas fa-clipboard-list"></i>&nbsp;Logging
        </a>
        <a class="navbar-item" href="members.html">
          <i class="fas fa-users"></i>&nbsp;Members
        </a>
        <a class="navbar-item" href="gallery.html">
          <i class="fas fa-images"></i>&nbsp;Photo Gallery
        </a>
        <a class="navbar-item" href="about.html">
          <i class="fas fa-info-circle"></i>&nbsp;About
        </a>
      </div>
    </div>
  </nav>

  <!-- Login Modal -->
  <div id="loginModal" class="modal is-active">
    <div class="modal-content">
      <div class="login-form">
        <h2 class="login-title">
          <i class="fas fa-lock"></i><br>
          Laboratory Access
        </h2>
        <form id="loginForm">
          <div class="login-field">
            <input type="text" id="username" class="login-input" placeholder="Username" required>
          </div>
          <div class="login-field">
            <input type="password" id="password" class="login-input" placeholder="Password" required>
          </div>
          <button type="submit" class="login-btn">
            <i class="fas fa-sign-in-alt"></i>&nbsp;&nbsp;ACCESS LOGGING SYSTEM
          </button>
          <div id="errorMessage" class="error-message" style="display: none;"></div>
        </form>
        
        <!-- Close Button positioned below the login form -->
        <button class="close-modal-btn" id="closeModalBtn" type="button">
          <i class="fas fa-times"></i>&nbsp;&nbsp;Cancel & Go Back
        </button>
      </div>
    </div>
  </div>

  <!-- Logging System (Hidden initially) -->
  <div id="loggingSystem" class="page-content" style="display: none;">
    <div class="content-container">
      <div class="hero-section">
        <h1 class="hero-title">NIBL Data Logger</h1>
        <p class="hero-subtitle">400 KeV Accelerator Log Data Recorder</p>
      </div>

      <form id="beamForm" class="form-container">
        <!-- Operation Details Section -->
        <div class="section-header">
          <i class="fas fa-cogs"></i>
          <h2 class="section-title">Operation Details</h2>
        </div>

        <div class="field-group">
          <div class="custom-field">
            <label class="custom-label">Operator Name</label>
            <div class="icon-input">
              <select id="operator" class="custom-select" required>
                <option value="" disabled selected>Select Operator</option>
                <option value="Mr.Ritartha Chaki">Mr. Ritartha Chaki</option>
                <option value="Dr.Kalyan Ghosh">Dr. Kalyan Ghosh</option>
                <option value="Dr.Haraprasanna Lenka">Dr. Haraprasanna Lenka</option>
                <option value="Dr.Pratap Kumar Sahoo">Dr. Pratap Kumar Sahoo</option>
              </select>
              <i class="fas fa-user-tie"></i>
            </div>
          </div>

          <div class="custom-field">
            <label class="custom-label">Energy (KeV)</label>
            <div class="icon-input">
              <input class="custom-input" type="number" id="energy" placeholder="Enter energy value" required>
              <i class="fas fa-bolt"></i>
            </div>
          </div>

          <div class="custom-field">
            <label class="custom-label">Beam Current (ÂµA)</label>
            <div class="icon-input">
              <input class="custom-input" type="number" id="current" placeholder="Enter current value" required>
              <i class="fas fa-wave-square"></i>
            </div>
          </div>

          <div class="custom-field">
            <label class="custom-label">Source Element</label>
            <div class="icon-input">
              <input class="custom-input" type="text" id="source" placeholder="Enter source element" required>
              <i class="fas fa-atom"></i>
            </div>
          </div>

          <div class="custom-field">
            <label class="custom-label">Target Sample</label>
            <div class="icon-input">
              <input class="custom-input" type="text" id="target" placeholder="Enter target sample" required>
              <i class="fas fa-bullseye"></i>
            </div>
          </div>
        </div>

        <!-- Source Parameters Section -->
        <div class="section-header">
          <i class="fas fa-sliders-h"></i>
          <h2 class="section-title">Source Parameters</h2>
        </div>

        <div class="field-group">
          <div class="custom-field">
            <label class="custom-label">Anode Current (A)</label>
            <div class="icon-input">
              <input class="custom-input" type="number" id="anode" step="any" placeholder="0.00" required>
              <i class="fas fa-plug"></i>
            </div>
          </div>

          <div class="custom-field">
            <label class="custom-label">Filament Current (A)</label>
            <div class="icon-input">
              <input class="custom-input" type="number" id="filament" step="any" placeholder="0.00" required>
              <i class="fas fa-fire"></i>
            </div>
          </div>

          <div class="custom-field">
            <label class="custom-label">Oven Current (A)</label>
            <div class="icon-input">
              <input class="custom-input" type="number" id="oven" step="any" placeholder="0.00" required>
              <i class="fas fa-thermometer-half"></i>
            </div>
          </div>

          <div class="custom-field">
            <label class="custom-label">Gas Control (%)</label>
            <div class="icon-input">
              <input class="custom-input" type="number" id="gas" step="any" placeholder="0.00" required>
              <i class="fas fa-wind"></i>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <!-- User Details Section -->
        <div class="section-header">
          <i class="fas fa-user-graduate"></i>
          <h2 class="section-title">User Details</h2>
        </div>

        <div class="field-group">
          <div class="custom-field">
            <label class="custom-label">User Name</label>
            <div class="icon-input">
              <input class="custom-input" type="text" id="username_form" placeholder="Enter your name" required>
              <i class="fas fa-user"></i>
            </div>
          </div>

          <div class="custom-field">
            <label class="custom-label">User Institute</label>
            <div class="icon-input">
              <input class="custom-input" type="text" id="institute" placeholder="Enter institute name" required>
              <i class="fas fa-university"></i>
            </div>
          </div>

          <div class="custom-field">
            <label class="custom-label">User's Supervisor <span style="opacity: 0.7;">(Optional)</span></label>
            <div class="icon-input">
              <input class="custom-input" type="text" id="supervisor" placeholder="Enter supervisor name">
              <i class="fas fa-user-tie"></i>
            </div>
          </div>
        </div>

        <div class="submit-container">
          <button class="submit-btn" type="submit">
            
            Update Sheets
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Loading Overlay -->
  <div class="loading-overlay" id="loadingOverlay" style="display: none;">
    <div class="spinner"></div>
    <div class="loading-text">Submitting data...</div>
  </div>

  <script src="script.js"></script>
  <script src="logging-script.js"></script>

  <style>
    /* Modal Background */
    .modal {
      position: fixed;
      top:  0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      backdrop-filter: blur(10px);
    }

    .modal.is-active {
      display: flex;
    }

    /* Modal Content - Larger Size */
    .modal-content {
      background:  var(--card-bg);
      backdrop-filter: blur(20px);
      border: 2px solid rgba(0, 212, 255, 0.2);
      border-radius: 25px;
      padding: 4rem 3rem;
      max-width: 550px;
      width: 90%;
      color: var(--text-primary);
      box-shadow: var(--shadow-hover);
      position: relative;
      min-height: 550px;
    }

    .login-form {
      text-align: center;
      padding: 2rem 1rem;
    }

    .login-title {
      font-size:  2.5rem;
      font-weight: 700;
      color: white;
      text-align: center;
      margin-bottom: 3rem;
      text-shadow:  0 2px 4px rgba(0, 0, 0, 0.3);
    }

    .login-field {
      margin-bottom: 2.5rem;
    }

    .login-input {
      width: 100%;
      padding:  1.5rem;
      border: 2px solid rgba(0, 212, 255, 0.2);
      border-radius: 15px;
      background: rgba(0, 0, 0, 0.4);
      color: var(--text-primary);
      font-size: 1.1rem;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .login-input:focus {
      outline:  none;
      border-color:  var(--accent-blue);
      background: rgba(0, 0, 0, 0.6);
      box-shadow: 0 0 25px rgba(0, 212, 255, 0.3);
    }

    .login-input::placeholder {
      color: var(--text-muted);
    }

    /* Primary Login Button */
    .login-btn {
      background: var(--success-gradient);
      border: none;
      border-radius: 50px;
      color: var(--text-primary);
      font-size: 1.2rem;
      font-weight:  700;
      padding: 1.5rem 3rem;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      margin-top: 2rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      box-shadow: 0 8px 25px rgba(0, 212, 255, 0.3);
    }

    .login-btn:hover {
      transform:  translateY(-3px);
      box-shadow: 0 15px 35px rgba(0, 212, 255, 0.5);
    }

    /* Close/Cancel Button - Positioned below login button */
    .close-modal-btn {
      background: transparent;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 50px;
      color: rgba(255, 255, 255, 0.8);
      font-size: 1rem;
      font-weight: 600;
      padding: 1rem 2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      margin-top: 1.5rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .close-modal-btn:hover {
      background:  rgba(255, 107, 107, 0.8);
      border-color: #ff6b6b;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
    }

    .close-modal-btn:active {
      transform: translateY(0);
    }

    .error-message {
      color: #ff6b6b;
      margin-top: 1.5rem;
      margin-bottom: 1rem;
      font-size: 1rem;
      font-weight: 600;
      background: rgba(255, 107, 107, 0.1);
      padding: 1rem;
      border-radius:  10px;
      border:  1px solid rgba(255, 107, 107, 0.2);
      text-align: center;
    }

    /* Loading Overlay */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background:  rgba(0, 0, 0, 0.8);
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      backdrop-filter: blur(10px);
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 4px solid rgba(255, 255, 255, 0.3);
      border-top: 4px solid var(--accent-blue);
      border-radius: 50%;
      animation:  spin 1s linear infinite;
      margin-bottom: 1rem;
    }

    .loading-text {
      color: var(--text-primary);
      font-size: 1.1rem;
      font-weight:  600;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Logout Button */
    .logout-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: var(--accent-gradient);
      border: none;
      border-radius: 25px;
      color: var(--text-primary);
      padding: 0.8rem 1.5rem;
      font-weight: 600;
      cursor:  pointer;
      transition: all 0.3s ease;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      z-index: 100;
    }

    .logout-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(238, 90, 36, 0.4);
    }

    /* Form Validation Styles */
    .custom-input.error,
    .custom-select.error {
      border-color: #ff6b6b;
      background: rgba(255, 107, 107, 0.1);
    }

    .custom-input.valid,
    .custom-select.valid {
      border-color:  var(--accent-cyan);
      background: rgba(29, 209, 161, 0.1);
    }

    /* Notification Styles */
    .success-notification,
    .error-notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 1rem 1.5rem;
      border-radius: 12px;
      color: var(--text-primary);
      font-weight: 600;
      z-index: 1001;
      transform: translateX(400px);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      min-width: 300px;
      box-shadow: var(--shadow-hover);
    }

    .success-notification {
      background: var(--success-gradient);
    }

    .error-notification {
      background: var(--accent-gradient);
    }

    .success-notification.show,
    .error-notification.show {
      transform: translateX(0);
    }

    .success-notification i,
    .error-notification i {
      font-size: 1.2rem;
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .modal-content {
        margin: 1rem;
        padding: 3rem 2rem;
        max-width: none;
        min-height: 500px;
      }

      .login-title {
        font-size: 2rem;
      }

      .login-input {
        padding: 1.3rem;
      }

      .login-btn {
        padding:  1.3rem 2rem;
        font-size: 1rem;
      }

      .close-modal-btn {
        padding: 0.8rem 1.5rem;
        font-size: 0.9rem;
      }

      .logout-btn {
        position: relative;
        top: auto;
        right: auto;
        margin:  1rem auto;
        display: block;
        width: fit-content;
      }

      .success-notification,
      .error-notification {
        right: 10px;
        left: 10px;
        min-width: auto;
        transform: translateY(-100px);
      }

      .success-notification.show,
      .error-notification.show {
        transform: translateY(0);
      }
    }
  </style>
</body>
</html>